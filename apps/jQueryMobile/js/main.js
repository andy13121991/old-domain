$j.ajax({url:"http://demo7719890.mockable.io/matches",dataType:"json",success:function(t){let a="",e=new Set;$j.each(t,function(s,i){let n=moment(i.startDate).format("DD.MM.YYYY");e.has(n)||(a+='<li class="date" data-date-time="'+i.startDate+'">'+n+"</li>",e.add(n)),a+='<li data-id="'+i.id+'" class="match '+i.status+'" title="'+n+'" time="'+i.startTime+'" text="'+i.name+'"date-time="'+i.startDate+" "+i.startTime+'"> <a href="#d" data-transition="pop" class="dialog">'+i.name+"</a></li>",$j("#date-match").html(a),$j(".match").on("click",function(){let a=$j(this).attr("data-id"),e=t.find(t=>t.id===a);if(!e)return;$j("#name-match").html('<h1 class="named">'+e.name+"</h1>"),$j(".start-time-date-wrapper").html('<p class="start-time">'+e.startTime+'</p><p class="start-date">'+moment(e.startDate).format("DD.MM.YYYY")+"</p></div>"),$j(".possible-win").html('<p class="possible">'+e.possibleWinner+"</p>"),$j(".now-status").html('<p class="match-status">'+e.status+"</p>");let s=$j(this).find(".dialog");if($j(this).hasClass("game-finished")){$j("#bet-btn").addClass("ui-btn-new").attr("data-rel","popup"),$j(".start-time, .start-date").css({fontSize:"1em"}),s.addClass("disabled").remove();let i=$j(this).attr("text");$j(this).text(i).css({padding:"0.5em"})}else $j("#bet-btn").removeClass("ui-btn-new").attr("data-rel","back"),s.removeClass("disabled")})}),$j("#date-match li:not([title])").append("<ul />"),$j("#date-match li[title]").each(function(){$j(this).appendTo("#date-match li:contains("+$j(this).attr("title")+") ul"),$j(".date").find("ul").addClass("events")}),$j("div > ul > li > ul").each(function(t,a){let e=$j(a).find(".game-finished");e.length>=2?e.addClass("done"):e.length<=1&&e.removeClass("done")}),$j(".game-finished").click(function(){let t=$j(this).next().text(),a=$j(this).parent().parent().next().children().children().first().text();$j(".next-match").append('<button class="next-btn">'+(""===t.trim()?a:t)+"</button>")}),$j("#close").click(function(){$j(".next-btn").remove()}),function(t){var a=t("#date-match");t(".date").sort(function(a,e){let s=new Date(t(a).attr("data-date-time")),i=new Date(t(e).attr("data-date-time"));return s>i?-1:s<i?1:0}).each(function(){a.prepend(this)})}($j)}});